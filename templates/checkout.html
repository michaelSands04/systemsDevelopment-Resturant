{% extends "base.html" %}
{% block content %}
<h1 class="mb-3">Checkout</h1>

<div class="card">
  <div class="card-body">
    <p class="text-muted mb-3">Review your order before placing it.</p>

    <ul class="list-group mb-3">
      {% for ln in lines %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ ln.name }}</strong><br>
            <small class="text-muted">£{{ "%.2f"|format(ln.unit_price) }} × {{ ln.qty }}</small>
          </div>
          <span>£{{ "%.2f"|format(ln.line_total) }}</span>
        </li>
      {% endfor %}
    </ul>

    <div class="d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Total</h5>
      <h5 class="mb-0">£{{ "%.2f"|format(total) }}</h5>
    </div>

    <form method="post" class="mt-3">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

      <button class="btn btn-primary" type="submit">Place order</button>
      <a class="btn btn-outline-secondary" href="/cart">Back to cart</a>
      

    </form>
  </div>
</div>
{% endblock %}
